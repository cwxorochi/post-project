(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],u=0,m=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/assets/app/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2e09":function(t,e,a){},"3dfd":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},s=[],i={name:"App",data:function(){return{}}},o=i,r=a("2877"),c=Object(r["a"])(o,n,s,!1,null,null,null);e["a"]=c.exports},"402c":function(t,e,a){"use strict";a("5363");var n=a("2b0e"),s=a("f309");n["a"].use(s["a"]),e["a"]=new s["a"]({icons:{iconfont:"mdi"}})},"41cb":function(t,e,a){"use strict";var n=a("1da1"),s=(a("96cf"),a("2b0e")),i=a("8c4f"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{},[a("v-app-bar",{attrs:{app:"","clipped-left":"",color:"blue",dense:""}},[a("div",{staticClass:"text-h6 white--text"},[t._v("Posting Console")])]),a("v-navigation-drawer",{attrs:{app:"",clipped:"",permanent:"",color:"#fafafa"}},[a("v-list",{attrs:{flat:""}},[a("v-list-item",{staticClass:"nav-theme-menu",attrs:{link:"",to:{name:"dashboard.index"},exact:"",color:"primary","active-class":"nav-theme-active"}},[a("v-list-item-icon",[a("v-icon",[t._v("dashboard")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"nav-theme-title"},[t._v(" Dashboard ")])],1)],1)],1)],1),a("v-main",{staticClass:"main-app-bg"},[a("v-container",{staticClass:"pa-6",attrs:{fluid:""}},[a("router-view")],1)],1)],1)},r=[],c={data:function(){return{menuIndex:1,isLoading:!1}},methods:{}},l=c,d=a("2877"),u=a("6544"),m=a.n(u),v=a("7496"),p=a("40dc"),f=a("a523"),h=a("132d"),b=a("8860"),_=a("da13"),y=a("5d23"),C=a("34c3"),g=a("f6c4"),w=a("f774"),x=Object(d["a"])(l,o,r,!1,null,"20978cc0",null),V=x.exports;m()(x,{VApp:v["a"],VAppBar:p["a"],VContainer:f["a"],VIcon:h["a"],VList:b["a"],VListItem:_["a"],VListItemContent:y["a"],VListItemIcon:C["a"],VListItemTitle:y["c"],VMain:g["a"],VNavigationDrawer:w["a"]});var k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{md:"5",sm:"12",lg:"5"}},[a("v-form",{ref:"post_form",model:{value:t.isValidated,callback:function(e){t.isValidated=e},expression:"isValidated"}},[a("v-text-field",{attrs:{label:"Title",outlined:"",dense:"",rules:[function(t){return!!t||"Title is required"}],required:""},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}}),a("v-textarea",{attrs:{outlined:"",placeholder:"Write something here","clearable-icon":"",label:"Content",counter:"",rows:"3",rules:[function(t){return!!t||"Content is required"}],required:""},model:{value:t.formData.body,callback:function(e){t.$set(t.formData,"body",e)},expression:"formData.body"}})],1),a("v-btn",{staticClass:"float-right",attrs:{loading:t.isSubmitting},on:{click:t.storePost}},[t._v(" Post ")])],1),a("v-col",{attrs:{md:"7",sm:"12",lg:"7"}},[a("recent-comment-card")],1)],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",{staticClass:"py-0"},[a("div",{staticClass:"text-h6 py-3"},[t._v("Posts")]),a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),a("v-spacer"),a("v-btn",{attrs:{loading:t.isUpdating,color:"primary"},on:{click:t.getPost}},[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-refresh")]),t._v(" Refresh ")],1)],1),a("v-divider"),a("v-card-text",[t.isUpdating?a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",t._b({attrs:{type:"list-item, divider, list-item-three-line, actions"}},"v-skeleton-loader",t.skeletonAttrs,!1)),a("v-skeleton-loader",t._b({attrs:{type:"list-item, divider, list-item-three-line, list-item-three-line, actions"}},"v-skeleton-loader",t.skeletonAttrs,!1))],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",t._b({attrs:{type:"list-item, divider, list-item-three-line, list-item-three-line, actions"}},"v-skeleton-loader",t.skeletonAttrs,!1)),a("v-skeleton-loader",t._b({attrs:{type:"list-item, divider, list-item-three-line, actions"}},"v-skeleton-loader",t.skeletonAttrs,!1))],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",t._b({attrs:{type:"list-item, divider, list-item-three-line, actions"}},"v-skeleton-loader",t.skeletonAttrs,!1)),a("v-skeleton-loader",t._b({attrs:{type:"list-item, divider, list-item-three-line, list-item-three-line, actions"}},"v-skeleton-loader",t.skeletonAttrs,!1))],1)],1):t.postData.length>0?a("v-row",{directives:[{name:"masonry",rawName:"v-masonry"}],attrs:{"transition-duration":"0.3s","item-selector":".item"}},t._l(t.postData,(function(t,e){return a("v-col",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e+"_post",staticClass:"item",attrs:{md:"6",lg:"3",sm:"12"}},[a("post-card",{attrs:{post:t}})],1)})),1):a("v-row",[a("v-col",[a("v-alert",{attrs:{type:"info"}},[t._v(" Let's start with adding one Post.")])],1)],1)],1)],1),a("snack-bar",{ref:"snack_bar",attrs:{variant:"red"}})],1)},D=[],S=(a("c740"),a("4de4"),a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{attrs:{dark:""},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:t.variant,text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])}),P=[],I={name:"SnackBar",data:function(){return{snackbar:!1,text:null,variant:"red"}},methods:{toast:function(t,e){this.text=t,this.variant=e,this.snackbar=!0}}},T=I,$=a("8336"),E=a("2db4"),A=Object(d["a"])(T,S,P,!1,null,"26a63b15",null),O=A.exports;m()(A,{VBtn:$["a"],VSnackbar:E["a"]});var j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",[a("div",{staticClass:"d-flex justify-space-between align-center"},[t.isEdit?a("v-text-field",{staticClass:"mr-2",attrs:{dense:"","hide-details":"auto",outlined:""},on:{change:function(e){t.isPostFormDirty=!0}},model:{value:t.postFormData.title,callback:function(e){t.$set(t.postFormData,"title",e)},expression:"postFormData.title"}}):a("div",{staticClass:"text-h6"},[t._v(" "+t._s(t.post.post_title)+" ")]),t.isEdit?a("v-btn",{staticClass:"small-icon-button",attrs:{small:"",color:"success",loading:t.isPostSubmitting},on:{click:t.submitPostEditData}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-check")])],1):a("v-btn",{staticClass:"small-icon-button",attrs:{small:"",color:"primary"},on:{click:t.triggerEditMode}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1)],1),a("v-divider",{staticClass:"mt-2 mb-4"}),t.isEdit?a("v-textarea",{attrs:{"hide-details":"auto",outlined:""},on:{change:function(e){t.isPostFormDirty=!0}},model:{value:t.postFormData.body,callback:function(e){t.$set(t.postFormData,"body",e)},expression:"postFormData.body"}}):a("div",{staticClass:"text-body-1",domProps:{innerHTML:t._s(t.formattedBody)}}),a("v-divider",{staticClass:"mt-6 mb-2"}),a("div",{staticClass:"d-flex align-center"},[a("div",[t._v("Comments")]),a("v-spacer"),a("v-chip",{staticClass:"text-caption rounded-circle",attrs:{color:"primary",dark:"",outlined:""}},[t._v(" "+t._s(t.post.total_number_of_comments)+" ")])],1),t._l(t.post.comments,(function(e){return a("v-list-item",{key:e.id+"_comment",staticClass:"px-0"},[a("v-list-item-avatar",[a("v-avatar",{staticClass:"text-uppercase",attrs:{color:"teal"}},[t._v(t._s(e.user.name.charAt(0)))])],1),a("v-list-item-content",[a("v-list-item-title",[a("div",{staticClass:"d-flex"},[a("div",[t._v(" "+t._s(e.user.name)+" ")]),a("v-spacer"),a("div",{staticClass:"text-caption grey--text"},[t._v(" "+t._s(e.formatted_created_at)+" ")])],1)]),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.body)}})],1)],1)})),a("div",{staticClass:"mt-3"},[a("v-text-field",{attrs:{outlined:"","hide-details":"auto",dense:"",name:"comment",autocomplete:"new-password"},on:{focus:function(e){t.isCommentInputActive=!0}},model:{value:t.formData.comment,callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}}),a("v-expand-transition",{on:{"after-enter":t.redrawMasonry}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.isCommentInputActive,expression:"isCommentInputActive"}],staticClass:"my-2",attrs:{elevation:"0"}},[a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"mr-1",attrs:{text:"",small:""},on:{click:t.cancelComment}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",small:"",loading:t.isSubmitting},on:{click:t.submitComment}},[t._v("Comment")])],1)])],1)],1)],2),a("snack-bar",{ref:"snack_bar"})],1)},L=[],M={name:"PostCard",components:{SnackBar:O},props:{post:{type:Object,default:null}},data:function(){return{isCommentInputActive:!1,isSubmitting:!1,isEdit:!1,formData:{post_id:this.post.id,comment:null},isPostFormDirty:!1,isPostSubmitting:!1,postFormData:{title:this.post.post_title,body:this.post.post_body}}},computed:{formattedBody:function(){return this.post.post_body.replaceAll("\n","<br/>")}},watch:{isCommentInputActive:function(){var t=this;setTimeout((function(){t.$redrawVueMasonry()}),100)}},methods:{redrawMasonry:function(){this.$redrawVueMasonry()},cancelComment:function(){this.formData.comment=null,this.isCommentInputActive=!1},submitComment:function(){var t=this;this.isSubmitting=!0,window.axios.post("/api/comments",this.formData).then((function(e){e.data.success&&(t.$refs.snack_bar.toast("Comment submitted.","success"),-1===t.post.comments.findIndex((function(t){return t.id===e.data.data.comment.id}))&&(t.post.comments.push(e.data.data.comment),t.post.total_number_of_comments+=1),window.hub.$emit("recent-comment-reload"),t.cancelComment(),setTimeout((function(){t.$redrawVueMasonry()}),100))})).finally((function(){return t.isSubmitting=!1}))},triggerEditMode:function(){var t=this;this.isEdit=!0,setTimeout((function(){t.$redrawVueMasonry()}),100)},submitPostEditData:function(){var t=this;this.isPostFormDirty?(this.isPostSubmitting=!0,window.axios.put("/api/posts/".concat(this.post.id),this.postFormData).then((function(e){e.data.success&&(t.$refs.snack_bar.toast("Post edited.","success"),t.post.post_title=e.data.data.post.post_title,t.post.post_body=e.data.data.post.post_body,t.isEdit=!1,t.isPostFormDirty=!1,setTimeout((function(){t.$redrawVueMasonry()}),100))})).catch((function(){t.$refs.snack_bar.toast("Something is wrong, please try again later.","red")})).finally((function(){return t.isPostSubmitting=!1}))):(this.isEdit=!1,setTimeout((function(){t.$redrawVueMasonry()}),100))}}},F=M,R=a("8212"),B=a("b0af"),N=a("99d9"),U=a("cc20"),q=a("ce7e"),H=a("0789"),J=a("8270"),W=a("2fa4"),z=a("8654"),G=a("a844"),K=Object(d["a"])(F,j,L,!1,null,"b7226a2e",null),Q=K.exports;m()(K,{VAvatar:R["a"],VBtn:$["a"],VCard:B["a"],VCardText:N["a"],VChip:U["a"],VDivider:q["a"],VExpandTransition:H["a"],VIcon:h["a"],VListItem:_["a"],VListItemAvatar:J["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VSpacer:W["a"],VTextField:z["a"],VTextarea:G["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"py-0"},[a("div",{staticClass:"text-h6 py-3"},[t._v("Recent Comments")]),a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),a("v-text-field",{attrs:{"prepend-inner-icon":"search",dense:"","hide-details":"auto"},on:{input:t.debounceSearch},scopedSlots:t._u([{key:"append",fn:function(){return[t.isSearching?a("v-btn",{staticClass:"small-icon-button",attrs:{disabled:"",loading:"",small:"",text:""}}):t._e()]},proxy:!0}]),model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1),a("v-divider"),a("v-card-text",{staticClass:"recent-comment-container"},[a("v-overlay",{attrs:{value:t.isSearching,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-row",t._l(t.commentData,(function(e){return a("v-col",{key:e.id+"_recent_comment",attrs:{md:"6",sm:"12"}},[a("v-card",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[a("div",[t._v("Post: "+t._s(e.post.post_title))]),a("v-divider",{staticClass:"my-2"})],1),a("v-list-item-subtitle",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"font-weight-bold"},[t._v(" "+t._s(e.user.name)+" ")]),a("v-spacer"),a("div",{staticClass:"text-caption grey--text"},[t._v(" "+t._s(e.formatted_created_at)+" ")])],1),a("div",{staticClass:"mt-1"},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-comment-outline ")]),t._v(" "+t._s(e.body)+" ")],1)])],1)],1)],1)],1)})),1)],1)],1)},Y=[],Z={name:"RecentCommentCard",data:function(){return{isSearching:!1,searchInput:null,debounce:null,commentData:[]}},mounted:function(){var t=this;window.Echo.channel("main-channel").listen("NewCommentEvent",(function(){t.getRecentComments()})),window.hub.$on("recent-comment-reload",(function(){t.getRecentComments()})),this.getRecentComments()},methods:{debounceSearch:function(){var t=this;this.isSearching=!0,clearTimeout(this.debounce),this.debounce=setTimeout((function(){t.getRecentComments()}),600)},getRecentComments:function(){var t=this;this.isSearching=!0,window.axios.get("/api/comments",{params:{pattern:this.searchInput,limiter:10}}).then((function(e){e.data.success&&(t.commentData=e.data.data)})).finally((function(){return t.isSearching=!1}))}}},tt=Z,et=(a("f704"),a("62ad")),at=a("a797"),nt=a("490a"),st=a("0fd9"),it=Object(d["a"])(tt,X,Y,!1,null,"c1e491c4",null),ot=it.exports;m()(it,{VBtn:$["a"],VCard:B["a"],VCardText:N["a"],VCardTitle:N["b"],VCol:et["a"],VDivider:q["a"],VIcon:h["a"],VListItem:_["a"],VListItemContent:y["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VOverlay:at["a"],VProgressCircular:nt["a"],VRow:st["a"],VSpacer:W["a"],VTextField:z["a"]});var rt={name:"DashboardIndex",components:{SnackBar:O,PostCard:Q,RecentCommentCard:ot},data:function(){return{isValidated:!1,isUpdating:!0,isSubmitting:!1,postData:[],formData:{title:null,body:null},skeletonAttrs:{class:"mb-6",elevation:2}}},mounted:function(){var t=this;window.Echo.channel("main-channel").listen("NewCommentEvent",(function(e){console.log(e,e.comment);var a=t.postData.findIndex((function(t){return t.id==e.comment.post_id}));-1===t.postData[a].comments.findIndex((function(t){return t.id===e.comment.id}))&&(t.postData[a].comments.push(e.comment),t.postData[a].total_number_of_comments+=1)})),window.Echo.channel("main-channel").listen("NewPostEvent",(function(e){!t.postData.filter((function(t){return t.id===e.post.id})).length>0&&(t.postData.push(e.post),setTimeout((function(){t.$redrawVueMasonry()}),100))})),this.getPost()},methods:{getPost:function(){var t=this;this.isUpdating=!0,window.axios.get("/api/posts").then((function(e){e.data.success&&(t.postData=e.data.data,setTimeout((function(){t.$redrawVueMasonry()}),100))})).finally((function(){return t.isUpdating=!1}))},storePost:function(){var t=this;this.$refs.post_form.validate(),this.isValidated&&(this.isSubmitting=!1,window.axios.post("/api/posts",this.formData).then((function(e){e.data.success&&(!t.postData.filter((function(t){return t.id===e.post.id})).length>0&&t.postData.push(e.data.data.post),setTimeout((function(){t.$redrawVueMasonry()}),100),t.$refs.post_form.reset(),t.$refs.snack_bar.toast("Post stored.","success"))})).catch((function(){t.$refs.snack_bar.toast("Something is wrong, please try again later.","red")})).finally((function(){return t.isSubmitting=!1})))}}},ct=rt,lt=a("0798"),dt=a("4bd4"),ut=a("3129"),mt=Object(d["a"])(ct,k,D,!1,null,null,null),vt=mt.exports;m()(mt,{VAlert:lt["a"],VBtn:$["a"],VCard:B["a"],VCardText:N["a"],VCardTitle:N["b"],VCol:et["a"],VDivider:q["a"],VForm:dt["a"],VIcon:h["a"],VRow:st["a"],VSkeletonLoader:ut["a"],VSpacer:W["a"],VTextField:z["a"],VTextarea:G["a"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"text-center",staticStyle:{height:"calc(100vh - 58px)"},attrs:{"fill-height":""}},[a("v-row",{staticClass:"text-center",attrs:{align:"center"}},[a("v-col",[a("h1",{staticClass:"display-2 warning--text"},[t._v("Whoops, 404")]),a("p",[t._v("The page you were looking for does not exist")]),a("v-btn",{staticClass:"mt-4",attrs:{to:"/",color:"grey darken-2",dark:""}},[t._v(" Get me out of here! ")])],1)],1)],1)],1)},ft=[],ht={props:{lang:{type:String,default:"en"}},created:function(){this.$ssrContext&&this.$ssrContext.res.status(404)}},bt=ht,_t=Object(d["a"])(bt,pt,ft,!1,null,null,null),yt=_t.exports;m()(_t,{VApp:v["a"],VBtn:$["a"],VCol:et["a"],VContainer:f["a"],VRow:st["a"]}),s["a"].use(i["a"]);var Ct=[{path:"/",component:V,meta:{redirectIfAuthenticated:!0},children:[{path:"/",name:"dashboard.index",component:vt}]},{path:"*",component:yt}],gt=new i["a"]({routes:Ct,mode:"history",base:"/",linkExactActiveClass:"active"});gt.beforeEach(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",n());case 1:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}());e["a"]=gt},"4f87":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e),function(t){a("e260"),a("e6cf"),a("cca6"),a("a79d");var e=a("2b0e"),n=a("3dfd"),s=a("402c"),i=a("41cb"),o=a("3f9b"),r=a("bc3a"),c=a.n(r),l=(a("4f87"),a("5638"));e["a"].config.productionTip=!1,e["a"].use(o["a"]),window.axios=t.axios=c.a,window.Pusher=a("782e"),window.Echo=new l["a"]({broadcaster:"pusher",key:"local",wsHost:"127.0.0.1",wsPort:6001,forceTLS:!1,disableStats:!0}),window.hub=new e["a"],new e["a"]({vuetify:s["a"],router:i["a"],render:function(t){return t(n["a"])}}).$mount("#app")}.call(this,a("c8ba"))},f704:function(t,e,a){"use strict";a("2e09")}});
//# sourceMappingURL=app.4fe9a1af.js.map